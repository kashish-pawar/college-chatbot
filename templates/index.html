<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>GPCK ChatBot</title>
  <link rel="icon" href="{{ url_for('static', filename='images/icon.png') }}" type="image" sizes="16x16">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"></script>

  <link rel="stylesheet" href="{{ url_for('static', filename='assets/bootstrap/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/fonts/ionicons.min.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/Login-Form-Dark.css') }}">
  </head>

<style>
  * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

  .msger {
  width: 100vw; /* Full viewport width */
  max-width: 100%;
  height: 100vh;
  margin: 0;
  padding: 0;
  border: none;
  box-sizing: border-box;
}
body, html {
  margin: 0;
  padding: 0;
  width: 100%;
}
.navbar {
  width: 100vw; /* Full viewport width */
  max-width: 100%;
  margin-top: 0;
  padding-top: 0;
  height: 100px;
  box-sizing: border-box;
  font-size: 1.3rem;
  position: relative;
  top: 0;
}
.navbar-nav .nav-item {
  margin-right: 50px; /* jitna gap chahiye utna set karo */
  padding-right: 50px;
}
.navbar-nav .nav-item:last-child {
  margin-right: 0;
}
.navbar-brand {
  display: block;
  margin: 0 50px;
  font-size: 28px;
  color: white;
  text-align: center;
}

.msger-input {
    height: 60px; /* Yahan apni desired height set karo */
    font-size: 1.1rem; /* Optional: font thoda bada dikhane ke liye */
    padding: 10px;
    border-radius: 10px;
  }

  .msger-send-btn {
    height: 60px; /* Button ki height bhi match karne ke liye */
    font-size: 1.1rem;
  }
  .msger-send-btn {
    height: 60px;         /* Button ki height */
    width: 120px;         /* âœ… Button ki width badha di */
    font-size: 1.4rem;
    padding: 10px;
    cursor: pointer;
    border-radius: 10px;
  }
  .msg-text {
  font-size: 1.2rem; /* Ya 18px, ya jitna aapko chahiye */
  line-height: 1.6;
}

.bot-msg .msg-text {
  font-size: 1.1rem;
}
</style>
<body>
  <section class="msger">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="background-color: #753a88 !important;">
        <!--a class="navbar-brand" href="#">CRCE Bot</a-->
        <a class="navbar-brand" href="#" style="color: white;">
          &emsp;<i class="fas fa-graduation-cap"></i> <b> &nbsp; GPCK Enquiry ChatBot &emsp; </b></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">

            <li class="nav-item active"><a class="nav-link" href="/index">Home</a></li>

            
            <li class="nav-item">
              <a class="nav-link" data-toggle="modal" data-target="#exampleModalScrollable" href="#"> About Us </a>
             </li>

            <li class="nav-item">
              <a class="nav-link" data-toggle="modal" data-target="#exampleModal" href="#">Suggestion box</a>
            </li>


            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Suggestion box</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form action='/suggestion' method='POST'>
                      <div class="form-group">
                        <input type="email" name='uemail' class='form-control' placeholder="Email" required>
                        <br>
                        <textarea class="form-control" id="message-text" placeholder="Enter your suggestion..." name="message" required></textarea>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="Submit" class="btn btn-primary" data-target="#alert">Submit</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog"
              aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
              <div class="modal-dialog modal-dialog-scrollable" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalScrollableTitle">College ChatBot</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                   <h3 style="color: white;">About Us</h3>
                   <div><img src="{{url_for('static',filename='images/about college.jpg')}}" height="auto" width="100%" style="border: 3px solid black;"></div>
                    <br> <br>
                   <p style="text-align: justify;">Located in the educational hub of Rajasthan, Government Polytechnic College, Kota (GPCK) is one of the most reputed and long-established government technical institutes in the state. Since its inception in 1960, the college has been committed to delivering quality technical education and fostering the overall development of students through skill-based training and academic excellence.

                    <p style="text-align: justify;">Initially started with core engineering branches like Civil, Mechanical, and Electrical Engineering, the institute has progressively expanded its academic offerings over the decades. New diploma programs such as Instrumentation Engineering (1971), Chemical Engineering (1974), Electronics Engineering (1986), Plastic Technology (1991), and Computer Science & Engineering (2001) were added, making it a comprehensive center for technical learning. Currently, the institute offers eight full-time diploma engineering programs.
</p></p>
                    
                    <p style="text-align: justify;">Government Polytechnic College, Kota functions under the Department of Technical Education, Government of Rajasthan, and is affiliated with the Board of Technical Education Rajasthan, Jodhpur. All its programs are approved by the All India Council for Technical Education (AICTE), New Delhi. The college emphasizes industry-oriented learning and skill development, ensuring students are ready to meet the demands of the modern workforce.</p>

                    <p style="text-align: justify;">The institute aims to achieve excellence through its vision, "From Excellence to Eminence," and is dedicated to producing technically skilled professionals with ethical values and a commitment to national development. With modern laboratories, experienced faculty, and a strong placement network, GPCK continues to be a preferred choice for students seeking a solid foundation in engineering and technology.</p>

                    <p style="text-align: justify;">Under the leadership of Principal Mr. Rajesh Kumar Sharma, the college is steadily progressing towards becoming a center of national excellence in technical education, adapting to the rapidly changing landscape of industry needs and technological advancements.
</p></p>
                    <h3>Contact Us</h3>
                    
                    <ul>
                    
                    <li style = "margin-left:15px">Email: govtpolytechniccollege@gmail.com</li>
                    <li style = "margin-left:15px">By GPCK ðŸ˜Š </li>
                    </ul>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>
            <li class="nav-item"><a class="nav-link" href="/logout">Log Out</a></li>
            
          </ul>
        </div>
    
   
    </nav>
    <!--header class="msger-header">
      <div class="msger-header-title">
        <h5><i class="fas fa-graduation-cap"></i> <b> &emsp; CRCE BOT &emsp; </b><i class="fas fa-graduation-cap"></i></h5>
      </div>
    </header-->
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-success alert-dismissible" id="alert" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      <strong>{{ message }}</strong>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
   

    <main class="msger-chat" style="color: white;">
    </br>
      <div class="msg left-msg">       
        <div class="msg-img" style = "background-image: url('{{ url_for('static', filename='images/about college.jpg') }}');" >
        </div>
        <div class="msg-bubble">
          <div class="msg-info">
            <div class="msg-info-name"><b>College Enquiry ChatBot</b> </div>
          </div>      
              
          <div class="msg-text" style="color: white;">
            <b >Hi there, Welcome to College Enquiry ChatBot! ðŸ‘‹ If you need any assistance, I'm always here.
          </div>
        </div>
      </div> 

      <!--
      <div class="msg left-msg">       
        <div class="msg-img" style = "background-image: url('{{ url_for('static', filename='images/about college.jpg') }}');">
        </div>
        <div class="msg-bubble">
          <div class="msg-info">
            <div class="msg-info-name"> <b>College Enquiry ChatBot</b></div>
          </div>      
              
          <div class="msg-text" style="color: white;">
           Which of the following user groups do you belong to?
            
              <br><br>1.&emsp;Student's Section Enquiry.</br>2.&emsp;Faculty Section Enquiry. </br>3.&emsp;Parent's Section Enquiry.</br>4.&emsp;Visitor's Section Enquiry.</br>
    
        </div>               
          
        </div>
      </div>
-->
    </main>

    <form class="msger-inputarea">
      <input type="text" class="msger-input" id="textInput" placeholder="Ask your Query about GPCK...">
      <button type="submit" class="msger-send-btn">Send</button>
    </form>
  </section>
  <!-- partial -->
  <script src='https://use.fontawesome.com/releases/v5.0.13/js/all.js'></script>
  <script>

    $("#alert").delay(3000).slideUp(200, function() {
    $(this).alert('close');
    });

    $('#myModal').on('shown.bs.modal', function () {
      $('#myInput').trigger('focus')
    })
    
    const msgerForm = get(".msger-inputarea");
    const msgerInput = get(".msger-input");
    const msgerChat = get(".msger-chat");


    // Icons made by Freepik from www.flaticon.com
    const BOT_IMG = "{{url_for('static',filename='images/about college.jpg')}}";
    const PERSON_IMG = "https://image.flaticon.com/icons/svg/145/145867.svg";
    const BOT_NAME = "GPCK ChatBot";
    const PERSON_NAME = "You";

    msgerForm.addEventListener("submit", event => {
      event.preventDefault();

      const msgText = msgerInput.value;
      if (!msgText) return;

      appendMessage(PERSON_NAME, PERSON_IMG, "right", msgText);
      msgerInput.value = "";
      botResponse(msgText);
    });

    function appendMessage(name, img, side, text) {
      //   Simple solution for small apps
      const msgHTML = `
<div class="msg ${side}-msg">
  <div class="msg-img" style="background-image: url(${img})"></div>

  <div class="msg-bubble">
    <div class="msg-info">
      <div class="msg-info-name">${name}</div>
      <div class="msg-info-time">${formatDate(new Date())}</div>
    </div>

    <div class="msg-text">${text}</div>
  </div>
</div>
`;

      msgerChat.insertAdjacentHTML("beforeend", msgHTML);
      msgerChat.scrollTop += 500;
    }

    function botResponse(rawText) {

      // Bot Response
      $.get("/get", { msg: rawText }).done(function (data) {
        console.log(rawText);
        console.log(data);
        const msgText = data;
        appendMessage(BOT_NAME, BOT_IMG, "left", msgText);

      });

    }


    // Utils
    function get(selector, root = document) {
      return root.querySelector(selector);
    }

    function formatDate(date) {
      const h = "0" + date.getHours();
      const m = "0" + date.getMinutes();

      return `${h.slice(-2)}:${m.slice(-2)}`;
    }

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

</body>

</html>
